<div class="homepage-container" [class.dark-theme]="isDarkTheme">
  <!-- Header -->
  <header class="homepage-header">
    <div class="header-content">
      <div class="header-left">
        <div class="logo-section">
          <img [src]="getLogoPath()" alt="SciConnect Logo" class="app-logo">
          <h1 class="app-title">SciConnect</h1>
        </div>
      </div>
      
      <div class="header-right">
        <div class="theme-toggle">
          <button class="theme-btn" (click)="toggleTheme()" [attr.aria-label]="isDarkTheme ? 'Switch to light theme' : 'Switch to dark theme'">
            <i class="fas" [class.fa-sun]="isDarkTheme" [class.fa-moon]="!isDarkTheme"></i>
          </button>
        </div>
        
        <div class="user-menu">
          <button class="user-menu-btn" (click)="navigateToProfile()">
            <i class="fas fa-user-circle"></i>
            <span class="username">{{ userInfo?.username }}</span>
            <i class="fas fa-chevron-down"></i>
          </button>
        </div>
        
        <button class="btn-logout" (click)="onLogout()">
          <i class="fas fa-sign-out-alt"></i>
          Logout
        </button>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="homepage-main">
    <div class="container">
      <!-- Loading State -->
      <div class="loading-container" *ngIf="isLoading">
        <div class="loading-spinner"></div>
        <p>Loading your information...</p>
      </div>

      <!-- User Welcome Section -->
      <div class="welcome-section" *ngIf="!isLoading && userInfo">
        <div class="welcome-card">
          <div class="welcome-header">
            <div class="welcome-icon">
              <i class="fas fa-user-md"></i>
            </div>
            <div class="welcome-text">
              <h2 class="greeting">{{ getGreeting() }}, {{ userInfo.firstName || userInfo.username }}!</h2>
              <p class="welcome-message">Welcome to SciConnect. You're logged in and ready to work.</p>
              <p class="current-time">
                <i class="fas fa-clock"></i>
                {{ currentTime | date:'EEEE, MMMM d, y - h:mm a' }}
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- User Information Section -->
      <div class="user-info-section" *ngIf="!isLoading && userInfo">
        <div class="info-grid">
          <div class="info-card">
            <div class="info-header">
              <i class="fas fa-user"></i>
              <h3>User Information</h3>
            </div>
            <div class="info-content">
              <div class="info-row">
                <span class="info-label">Username:</span>
                <span class="info-value">{{ userInfo.username }}</span>
              </div>
              <div class="info-row" *ngIf="userInfo.firstName">
                <span class="info-label">First Name:</span>
                <span class="info-value">{{ userInfo.firstName }}</span>
              </div>
              <div class="info-row" *ngIf="userInfo.lastName">
                <span class="info-label">Last Name:</span>
                <span class="info-value">{{ userInfo.lastName }}</span>
              </div>
              <div class="info-row">
                <span class="info-label">Email:</span>
                <span class="info-value">{{ userInfo.email }}</span>
              </div>
            </div>
          </div>

          <div class="info-card">
            <div class="info-header">
              <i class="fas fa-user-tag"></i>
              <h3>Roles & Permissions</h3>
            </div>
            <div class="info-content">
              <div class="roles-list">
                <div class="role-badge" *ngFor="let role of userInfo.roles">
                  <i class="fas fa-user-tag"></i>
                  {{ getRoleDisplayName(role) }}
                </div>
              </div>
              <p class="role-description">
                Your role determines what features and data you can access within the platform.
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Quick Actions Section -->
      <div class="quick-actions-section" *ngIf="!isLoading">
        <h3 class="section-title">Quick Actions</h3>
        <div class="actions-grid">
          <div class="action-card" (click)="navigateToDashboard()">
            <div class="action-icon">
              <i class="fas fa-chart-line"></i>
            </div>
            <h4>Dashboard</h4>
            <p>View analytics and overview of your research data</p>
          </div>

          <div class="action-card" (click)="navigateToProfile()">
            <div class="action-icon">
              <i class="fas fa-user-edit"></i>
            </div>
            <h4>Edit Profile</h4>
            <p>Update your personal information and preferences</p>
          </div>

          <div class="action-card" (click)="navigateToSettings()">
            <div class="action-icon">
              <i class="fas fa-cog"></i>
            </div>
            <h4>Settings</h4>
            <p>Configure your account and application preferences</p>
          </div>

          <div class="action-card">
            <div class="action-icon">
              <i class="fas fa-question-circle"></i>
            </div>
            <h4>Help & Support</h4>
            <p>Get help and access documentation</p>
          </div>
        </div>
      </div>

      <!-- Recent Activity Section -->
      <div class="recent-activity-section" *ngIf="!isLoading">
        <h3 class="section-title">Recent Activity</h3>
        <div class="activity-list">
          <div class="activity-item">
            <div class="activity-icon">
              <i class="fas fa-sign-in-alt"></i>
            </div>
            <div class="activity-content">
              <p class="activity-text">Successfully logged in to SciConnect</p>
              <span class="activity-time">{{ currentTime | date:'shortTime' }}</span>
            </div>
          </div>
          
          <div class="activity-item">
            <div class="activity-icon">
              <i class="fas fa-user-plus"></i>
            </div>
            <div class="activity-content">
              <p class="activity-text">Account created and activated</p>
              <span class="activity-time">Today</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="homepage-footer">
    <div class="container">
      <p>&copy; 2024 SciConnect.</p>
    </div>
  </footer>
</div>

